<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NodeList Extensions2</title>

    <!-- load Dojo -->
    <script src="//ajax.googleapis.com/ajax/libs/dojo/1.13.0/dojo/dojo.js"
            data-dojo-config="async: true"></script>

    <script>
        require(["dojo/query", "dojo/NodeList-data", "dojo/domReady!"],
          function (query, NodeList) {

            function mark(evt){
                var nodeList = new NodeList(this);        // make a new NodeList from the clicked element
                nodeList.data("updated", new Date());    // update the 'updated' key for this element via the NodeList
            }

            query("li")
                .data("updated", new Date())
                .on("click", mark);

            query("#btn").on("click", function(){
                query("li").data("updated").forEach(function(date){
                    console.log(date.getTime());
                });
            });
        });

    </script>
</head>
<body class="claro">

    <button type="button" id="btn">Pick out fresh fruits</button>

    <h3>Fresh Fruits</h3>
    <ul id="freshList"></ul>

    <h3>Fruits</h3>
    <ul>
        <li class="fresh">Apples</li>
        <li class="fresh">Persimmons</li>
        <li class="fresh">Grapes</li>
        <li class="fresh">Fresh Figs</li>
        <li class="dried">Dates</li>
        <li class="dried">Raisins</li>
        <li class="dried">Prunes</li>
        <li class="fresh dried">Apricots</li>
        <li class="fresh">Peaches</li>
        <li class="fresh">Bananas</li>
        <li class="fresh">Cherries</li>
    </ul>
</body>
</html>